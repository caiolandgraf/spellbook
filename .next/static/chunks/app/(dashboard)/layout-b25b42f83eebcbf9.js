(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[69305],{4149:(e,t,a)=>{"use strict";a.d(t,{Avatar:()=>N,AvatarFallback:()=>A,AvatarImage:()=>k});var r=a(95155),s=a(12115),n=a(3468),l=a(70222),o=a(4129),d=a(97602),i=a(14806);function c(){return()=>{}}var u="Avatar",[m,f]=(0,n.A)(u),[h,p]=m(u),x=s.forwardRef((e,t)=>{let{__scopeAvatar:a,...n}=e,[l,o]=s.useState("idle");return(0,r.jsx)(h,{scope:a,imageLoadingStatus:l,onImageLoadingStatusChange:o,children:(0,r.jsx)(d.sG.span,{...n,ref:t})})});x.displayName=u;var g="AvatarImage",v=s.forwardRef((e,t)=>{let{__scopeAvatar:a,src:n,onLoadingStatusChange:u=()=>{},...m}=e,f=p(g,a),h=function(e,t){let{referrerPolicy:a,crossOrigin:r}=t,n=(0,i.useSyncExternalStore)(c,()=>!0,()=>!1),l=s.useRef(null),d=n?(l.current||(l.current=new window.Image),l.current):null,[u,m]=s.useState(()=>w(d,e));return(0,o.N)(()=>{m(w(d,e))},[d,e]),(0,o.N)(()=>{let e=e=>()=>{m(e)};if(!d)return;let t=e("loaded"),s=e("error");return d.addEventListener("load",t),d.addEventListener("error",s),a&&(d.referrerPolicy=a),"string"==typeof r&&(d.crossOrigin=r),()=>{d.removeEventListener("load",t),d.removeEventListener("error",s)}},[d,r,a]),u}(n,m),x=(0,l.c)(e=>{u(e),f.onImageLoadingStatusChange(e)});return(0,o.N)(()=>{"idle"!==h&&x(h)},[h,x]),"loaded"===h?(0,r.jsx)(d.sG.img,{...m,ref:t,src:n}):null});v.displayName=g;var y="AvatarFallback",b=s.forwardRef((e,t)=>{let{__scopeAvatar:a,delayMs:n,...l}=e,o=p(y,a),[i,c]=s.useState(void 0===n);return s.useEffect(()=>{if(void 0!==n){let e=window.setTimeout(()=>c(!0),n);return()=>window.clearTimeout(e)}},[n]),i&&"loaded"!==o.imageLoadingStatus?(0,r.jsx)(d.sG.span,{...l,ref:t}):null});function w(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}b.displayName=y;var j=a(25016);let N=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(x,{ref:t,className:(0,j.cn)("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",a),...s})});N.displayName=x.displayName;let k=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(v,{ref:t,className:(0,j.cn)("aspect-square h-full w-full",a),...s})});k.displayName=v.displayName;let A=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(b,{ref:t,className:(0,j.cn)("flex h-full w-full items-center justify-center rounded-full bg-muted",a),...s})});A.displayName=b.displayName},6191:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(71847).A)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},7220:(e,t,a)=>{"use strict";a.d(t,{SQ:()=>m,_2:()=>f,lp:()=>h,mB:()=>p,rI:()=>c,ty:()=>u});var r=a(95155),s=a(12115),n=a(47971),l=a(27937),o=a(5917),d=a(99051),i=a(25016);let c=n.bL,u=n.l9;n.YJ,n.ZL,n.Pb,n.z6,s.forwardRef((e,t)=>{let{className:a,inset:s,children:o,...d}=e;return(0,r.jsxs)(n.ZP,{ref:t,className:(0,i.cn)("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",s&&"pl-8",a),...d,children:[o,(0,r.jsx)(l.A,{className:"ml-auto h-4 w-4"})]})}).displayName=n.ZP.displayName,s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(n.G5,{ref:t,className:(0,i.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...s})}).displayName=n.G5.displayName;let m=s.forwardRef((e,t)=>{let{className:a,sideOffset:s=4,...l}=e;return(0,r.jsx)(n.ZL,{children:(0,r.jsx)(n.UC,{ref:t,sideOffset:s,className:(0,i.cn)("z-50 min-w-[8rem] overflow-hidden rounded-lg border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...l})})});m.displayName=n.UC.displayName;let f=s.forwardRef((e,t)=>{let{className:a,inset:s,...l}=e;return(0,r.jsx)(n.q7,{ref:t,className:(0,i.cn)("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s&&"pl-8",a),...l})});f.displayName=n.q7.displayName,s.forwardRef((e,t)=>{let{className:a,children:s,checked:l,...d}=e;return(0,r.jsxs)(n.H_,{ref:t,className:(0,i.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),checked:l,...d,children:[(0,r.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,r.jsx)(n.VF,{children:(0,r.jsx)(o.A,{className:"h-4 w-4"})})}),s]})}).displayName=n.H_.displayName,s.forwardRef((e,t)=>{let{className:a,children:s,...l}=e;return(0,r.jsxs)(n.hN,{ref:t,className:(0,i.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),...l,children:[(0,r.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,r.jsx)(n.VF,{children:(0,r.jsx)(d.A,{className:"h-2 w-2 fill-current"})})}),s]})}).displayName=n.hN.displayName;let h=s.forwardRef((e,t)=>{let{className:a,inset:s,...l}=e;return(0,r.jsx)(n.JU,{ref:t,className:(0,i.cn)("px-2 py-1.5 text-sm font-semibold",s&&"pl-8",a),...l})});h.displayName=n.JU.displayName;let p=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(n.wv,{ref:t,className:(0,i.cn)("-mx-1 my-1 h-px bg-muted",a),...s})});p.displayName=n.wv.displayName},14806:(e,t,a)=>{"use strict";e.exports=a(30125)},15870:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(71847).A)("settings",[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},20063:(e,t,a)=>{"use strict";var r=a(47260);a.o(r,"usePathname")&&a.d(t,{usePathname:function(){return r.usePathname}}),a.o(r,"useRouter")&&a.d(t,{useRouter:function(){return r.useRouter}}),a.o(r,"useSearchParams")&&a.d(t,{useSearchParams:function(){return r.useSearchParams}})},20508:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(71847).A)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},25016:(e,t,a)=>{"use strict";a.d(t,{Yq:()=>l,cn:()=>n,fw:()=>o,kh:()=>d});var r=a(2821),s=a(75889);function n(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,s.QP)((0,r.$)(t))}function l(e){return new Date(e).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}function o(e){let t=new Date(e),a=Math.floor((new Date().getTime()-t.getTime())/1e3);if(a<60)return"just now";let r=Math.floor(a/60);if(r<60)return"".concat(r," ").concat(1===r?"minute":"minutes"," ago");let s=Math.floor(r/60);if(s<24)return"".concat(s," ").concat(1===s?"hour":"hours"," ago");let n=Math.floor(s/24);if(n<30)return"".concat(n," ").concat(1===n?"day":"days"," ago");let l=Math.floor(n/30);if(l<12)return"".concat(l," ").concat(1===l?"month":"months"," ago");let o=Math.floor(l/12);return"".concat(o," ").concat(1===o?"year":"years"," ago")}function d(e){let t={javascript:"#f7df1e",typescript:"#3178c6",python:"#3776ab",java:"#007396",csharp:"#239120",cpp:"#00599c",c:"#555555",ruby:"#cc342d",go:"#00add8",rust:"#dea584",php:"#777bb4",swift:"#fa7343",kotlin:"#7f52ff",scala:"#dc322f",html:"#e34c26",css:"#1572b6",sql:"#e38c00",shell:"#89e051",bash:"#4eaa25",powershell:"#012456",r:"#276dc3",matlab:"#e16737",lua:"#000080",perl:"#39457e",haskell:"#5e5086",elixir:"#6e4a7e",dart:"#0175c2",vue:"#42b883",react:"#61dafb",angular:"#dd0031",svelte:"#ff3e00",json:"#000000",yaml:"#cb171e",markdown:"#083fa1",xml:"#0060ac",default:"#6b7280"};return t[e.toLowerCase().replace(/\s+/g,"")]||t.default}},28150:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(71847).A)("code-xml",[["path",{d:"m18 16 4-4-4-4",key:"1inbqp"}],["path",{d:"m6 8-4 4 4 4",key:"15zrgr"}],["path",{d:"m14.5 4-5 16",key:"e7oirm"}]])},30125:(e,t,a)=>{"use strict";var r=a(12115),s="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},n=r.useState,l=r.useEffect,o=r.useLayoutEffect,d=r.useDebugValue;function i(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!s(e,a)}catch(e){return!0}}var c="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var a=t(),r=n({inst:{value:a,getSnapshot:t}}),s=r[0].inst,c=r[1];return o(function(){s.value=a,s.getSnapshot=t,i(s)&&c({inst:s})},[e,a,t]),l(function(){return i(s)&&c({inst:s}),e(function(){i(s)&&c({inst:s})})},[e]),d(a),a};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:c},47937:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(71847).A)("book-open",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]])},57319:(e,t,a)=>{Promise.resolve().then(a.bind(a,88939)),Promise.resolve().then(a.bind(a,89023))},59384:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(71847).A)("layout-dashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]])},83457:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(71847).A)("heart",[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]])},85998:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(71847).A)("bell",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]])},88939:(e,t,a)=>{"use strict";a.d(t,{DashboardNav:()=>b});var r=a(95155),s=a(71847);let n=(0,s.A)("menu",[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]]);var l=a(6191),o=a(85998),d=a(20508),i=a(83457),c=a(15870);let u=(0,s.A)("log-out",[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]]);var m=a(52619),f=a.n(m),h=a(20063),p=a(96199),x=a(12115),g=a(4149),v=a(97003),y=a(7220);function b(e){var t;let{user:a}=e,s=(0,h.useRouter)(),m=(0,h.useSearchParams)(),[b,w]=(0,x.useState)(m.get("search")||"");return(0,r.jsx)("header",{className:"sticky top-0 z-10 border-b border-border bg-background/80 backdrop-blur-md",children:(0,r.jsxs)("div",{className:"flex items-center justify-between h-16 px-6",children:[(0,r.jsx)(v.$,{variant:"ghost",size:"icon",className:"md:hidden",children:(0,r.jsx)(n,{className:"w-5 h-5"})}),(0,r.jsx)("div",{className:"hidden md:flex flex-1 max-w-md",children:(0,r.jsx)("form",{onSubmit:e=>{e.preventDefault();let t=new FormData(e.currentTarget).get("search");t.trim()?s.push("/explore?search=".concat(encodeURIComponent(t.trim()))):s.push("/explore")},className:"w-full",children:(0,r.jsx)("input",{type:"search",name:"search",placeholder:"Search spells...",defaultValue:b,className:"w-full h-10 px-4 rounded-lg border border-input bg-background/50 text-sm focus:outline-none focus:ring-2 focus:ring-ring"})})}),(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,r.jsx)(v.$,{size:"sm",asChild:!0,children:(0,r.jsxs)(f(),{href:"/spells/new",children:[(0,r.jsx)(l.A,{className:"w-4 h-4 mr-2"}),"New Spell"]})}),(0,r.jsx)(v.$,{variant:"ghost",size:"icon",children:(0,r.jsx)(o.A,{className:"w-5 h-5"})}),(0,r.jsxs)(y.rI,{children:[(0,r.jsx)(y.ty,{asChild:!0,children:(0,r.jsx)(v.$,{variant:"ghost",className:"relative h-10 w-10 rounded-full",children:(0,r.jsxs)(g.Avatar,{children:[(0,r.jsx)(g.AvatarImage,{src:a.image||"",alt:a.name||""}),(0,r.jsx)(g.AvatarFallback,{children:(null==(t=a.name)?void 0:t.charAt(0).toUpperCase())||"U"})]})})}),(0,r.jsxs)(y.SQ,{align:"end",className:"w-56",children:[(0,r.jsx)(y.lp,{children:(0,r.jsxs)("div",{className:"flex flex-col space-y-1",children:[(0,r.jsx)("p",{className:"text-sm font-medium leading-none",children:a.name}),(0,r.jsx)("p",{className:"text-xs leading-none text-muted-foreground",children:a.email})]})}),(0,r.jsx)(y.mB,{}),(0,r.jsx)(y._2,{asChild:!0,children:(0,r.jsxs)(f(),{href:"/profile",children:[(0,r.jsx)(d.A,{className:"w-4 h-4 mr-2"}),"Profile"]})}),(0,r.jsx)(y._2,{asChild:!0,children:(0,r.jsxs)(f(),{href:"/favorites",children:[(0,r.jsx)(i.A,{className:"w-4 h-4 mr-2"}),"Favorites"]})}),(0,r.jsx)(y._2,{asChild:!0,children:(0,r.jsxs)(f(),{href:"/settings",children:[(0,r.jsx)(c.A,{className:"w-4 h-4 mr-2"}),"Settings"]})}),(0,r.jsx)(y.mB,{}),(0,r.jsxs)(y._2,{onClick:()=>(0,p.CI)({callbackUrl:"/"}),children:[(0,r.jsx)(u,{className:"w-4 h-4 mr-2"}),"Log out"]})]})]})]})]})})}},89023:(e,t,a)=>{"use strict";a.d(t,{Sidebar:()=>h});var r=a(95155),s=a(59384),n=a(47937),l=a(28150),o=a(83457),d=a(15870),i=a(52619),c=a.n(i),u=a(20063),m=a(25016);let f=[{name:"Dashboard",href:"/dashboard",icon:s.A},{name:"Spellbooks",href:"/spellbooks",icon:n.A},{name:"All Spells",href:"/explore",icon:l.A},{name:"Favorites",href:"/favorites",icon:o.A},{name:"Settings",href:"/settings",icon:d.A}];function h(){let e=(0,u.usePathname)();return(0,r.jsxs)("aside",{className:"hidden md:flex w-64 flex-col border-r border-border bg-card/50 backdrop-blur-sm",children:[(0,r.jsx)("div",{className:"p-6 border-b border-border",children:(0,r.jsxs)(c(),{href:"/dashboard",className:"flex items-center space-x-2",children:[(0,r.jsx)(n.A,{className:"w-8 h-8 text-primary"}),(0,r.jsx)("span",{className:"text-xl font-bold",children:"Spellbook"})]})}),(0,r.jsx)("nav",{className:"flex-1 p-4 space-y-1",children:f.map(t=>{let a=e===t.href;return(0,r.jsxs)(c(),{href:t.href,className:(0,m.cn)("flex items-center space-x-3 px-4 py-3 rounded-lg transition-all",a?"bg-primary text-primary-foreground shadow-lg shadow-primary/25":"text-muted-foreground hover:bg-muted hover:text-foreground"),children:[(0,r.jsx)(t.icon,{className:"w-5 h-5"}),(0,r.jsx)("span",{className:"font-medium",children:t.name})]},t.name)})}),(0,r.jsx)("div",{className:"p-4 border-t border-border",children:(0,r.jsxs)("div",{className:"text-xs text-muted-foreground text-center",children:[(0,r.jsx)("p",{children:"Spellbook v1.0"}),(0,r.jsx)("p",{className:"mt-1",children:"Built with âœ¨"})]})})]})}},97003:(e,t,a)=>{"use strict";a.d(t,{$:()=>i});var r=a(95155),s=a(32467),n=a(83101),l=a(12115),o=a(25016);let d=(0,n.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-lg text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90 shadow-lg shadow-primary/25",destructive:"bg-red-500 text-white hover:bg-red-600 shadow-lg shadow-red-500/25",outline:"border border-input bg-transparent hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-lg px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),i=l.forwardRef((e,t)=>{let{className:a,variant:n,size:l,asChild:i=!1,...c}=e,u=i?s.DX:"button";return(0,r.jsx)(u,{className:(0,o.cn)(d({variant:n,size:l,className:a})),ref:t,...c})});i.displayName="Button"}},e=>{e.O(0,[4545,52619,306,14035,96199,35933,28441,31255,77358],()=>e(e.s=57319)),_N_E=e.O()}]);