(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[66110],{6191:(e,r,t)=>{"use strict";t.d(r,{A:()=>a});let a=(0,t(71847).A)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},20063:(e,r,t)=>{"use strict";var a=t(47260);t.o(a,"usePathname")&&t.d(r,{usePathname:function(){return a.usePathname}}),t.o(a,"useRouter")&&t.d(r,{useRouter:function(){return a.useRouter}}),t.o(a,"useSearchParams")&&t.d(r,{useSearchParams:function(){return a.useSearchParams}})},25016:(e,r,t)=>{"use strict";t.d(r,{Yq:()=>l,cn:()=>n,fw:()=>o,kh:()=>i});var a=t(2821),s=t(75889);function n(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];return(0,s.QP)((0,a.$)(r))}function l(e){return new Date(e).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}function o(e){let r=new Date(e),t=Math.floor((new Date().getTime()-r.getTime())/1e3);if(t<60)return"just now";let a=Math.floor(t/60);if(a<60)return"".concat(a," ").concat(1===a?"minute":"minutes"," ago");let s=Math.floor(a/60);if(s<24)return"".concat(s," ").concat(1===s?"hour":"hours"," ago");let n=Math.floor(s/24);if(n<30)return"".concat(n," ").concat(1===n?"day":"days"," ago");let l=Math.floor(n/30);if(l<12)return"".concat(l," ").concat(1===l?"month":"months"," ago");let o=Math.floor(l/12);return"".concat(o," ").concat(1===o?"year":"years"," ago")}function i(e){let r={javascript:"#f7df1e",typescript:"#3178c6",python:"#3776ab",java:"#007396",csharp:"#239120",cpp:"#00599c",c:"#555555",ruby:"#cc342d",go:"#00add8",rust:"#dea584",php:"#777bb4",swift:"#fa7343",kotlin:"#7f52ff",scala:"#dc322f",html:"#e34c26",css:"#1572b6",sql:"#e38c00",shell:"#89e051",bash:"#4eaa25",powershell:"#012456",r:"#276dc3",matlab:"#e16737",lua:"#000080",perl:"#39457e",haskell:"#5e5086",elixir:"#6e4a7e",dart:"#0175c2",vue:"#42b883",react:"#61dafb",angular:"#dd0031",svelte:"#ff3e00",json:"#000000",yaml:"#cb171e",markdown:"#083fa1",xml:"#0060ac",default:"#6b7280"};return r[e.toLowerCase().replace(/\s+/g,"")]||r.default}},33789:(e,r,t)=>{"use strict";t.d(r,{p:()=>l});var a=t(95155),s=t(12115),n=t(25016);let l=s.forwardRef((e,r)=>{let{className:t,type:s,...l}=e;return(0,a.jsx)("input",{type:s,className:(0,n.cn)("flex h-10 w-full rounded-lg border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-0 focus-visible:border-primary disabled:cursor-not-allowed disabled:opacity-50 transition-all",t),ref:r,...l})});l.displayName="Input"},35299:(e,r,t)=>{"use strict";t.d(r,{A:()=>a});let a=(0,t(71847).A)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},47937:(e,r,t)=>{"use strict";t.d(r,{A:()=>a});let a=(0,t(71847).A)("book-open",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]])},65229:(e,r,t)=>{"use strict";t.d(r,{A:()=>a});let a=(0,t(71847).A)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},67001:(e,r,t)=>{"use strict";t.d(r,{T:()=>l});var a=t(95155),s=t(12115),n=t(25016);let l=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)("textarea",{className:(0,n.cn)("flex min-h-[80px] w-full rounded-lg border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 transition-all font-mono",t),ref:r,...s})});l.displayName="Textarea"},67812:(e,r,t)=>{"use strict";t.d(r,{Badge:()=>o});var a=t(95155);t(12115);var s=t(83101),n=t(25016);let l=(0,s.F)("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-red-500 text-white hover:bg-red-600",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function o(e){let{className:r,variant:t,...s}=e;return(0,a.jsx)("div",{className:(0,n.cn)(l({variant:t}),r),...s})}},73798:(e,r,t)=>{Promise.resolve().then(t.bind(t,81426))},81426:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>x});var a=t(95155),s=t(12115),n=t(20063),l=t(83209),o=t(97003),i=t(33789),c=t(67001),d=t(67812),u=t(47937),f=t(6191),p=t(65229),h=t(35299),m=t(18720);function x(){let e=(0,n.useRouter)(),[r,t]=(0,s.useState)(!1),[x,b]=(0,s.useState)({name:"",description:"",isPublic:!0,tags:[]}),[g,y]=(0,s.useState)(""),v=async r=>{r.preventDefault(),t(!0);try{let r=await fetch("/api/spellbooks",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(x)});if(!r.ok)throw Error("Failed to create spellbook");let t=await r.json();m.oR.success("Spellbook created successfully! \uD83D\uDCDA"),e.push("/spellbooks/".concat(t.id))}catch(e){console.error("Error creating spellbook:",e),m.oR.error("Failed to create spellbook. Please try again.")}finally{t(!1)}},j=()=>{g.trim()&&!x.tags.includes(g.trim())&&(b({...x,tags:[...x.tags,g.trim()]}),y(""))};return(0,a.jsxs)("div",{className:"max-w-3xl mx-auto space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)("div",{className:"p-4 rounded-2xl bg-primary/10 border border-primary/20",children:(0,a.jsx)(u.A,{className:"w-8 h-8 text-primary"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-4xl font-bold mb-2",children:"Create New Spellbook"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"Organize your code snippets into collections"})]})]}),(0,a.jsxs)("form",{onSubmit:v,className:"space-y-6",children:[(0,a.jsxs)(l.Zp,{children:[(0,a.jsx)(l.aR,{children:(0,a.jsx)(l.ZB,{children:"Basic Information"})}),(0,a.jsxs)(l.Wu,{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-sm font-medium mb-2 block",children:"Name *"}),(0,a.jsx)(i.p,{required:!0,placeholder:"e.g., Data Structures & Algorithms",value:x.name,onChange:e=>b({...x,name:e.target.value})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-sm font-medium mb-2 block",children:"Description"}),(0,a.jsx)(c.T,{placeholder:"What kind of spells will this spellbook contain?",value:x.description,onChange:e=>b({...x,description:e.target.value}),rows:4})]})]})]}),(0,a.jsxs)(l.Zp,{children:[(0,a.jsx)(l.aR,{children:(0,a.jsx)(l.ZB,{children:"Tags"})}),(0,a.jsxs)(l.Wu,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)(i.p,{placeholder:"Add tag...",value:g,onChange:e=>y(e.target.value),onKeyPress:e=>{"Enter"===e.key&&(e.preventDefault(),j())}}),(0,a.jsx)(o.$,{type:"button",variant:"outline",size:"icon",onClick:j,children:(0,a.jsx)(f.A,{className:"w-4 h-4"})})]}),x.tags.length>0&&(0,a.jsx)("div",{className:"flex flex-wrap gap-2",children:x.tags.map(e=>(0,a.jsxs)(d.Badge,{variant:"secondary",className:"gap-1",children:["#",e,(0,a.jsx)("button",{type:"button",onClick:()=>{b({...x,tags:x.tags.filter(r=>r!==e)})},className:"ml-1 hover:text-destructive",children:(0,a.jsx)(p.A,{className:"w-3 h-3"})})]},e))})]})]}),(0,a.jsxs)(l.Zp,{children:[(0,a.jsx)(l.aR,{children:(0,a.jsx)(l.ZB,{children:"Visibility"})}),(0,a.jsxs)(l.Wu,{children:[(0,a.jsxs)("label",{className:"flex items-center space-x-2 cursor-pointer",children:[(0,a.jsx)("input",{type:"checkbox",checked:x.isPublic,onChange:e=>b({...x,isPublic:e.target.checked}),className:"w-4 h-4 rounded border-input"}),(0,a.jsx)("span",{className:"text-sm",children:"Make this spellbook public"})]}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground mt-2",children:x.isPublic?"Everyone can see this spellbook and its spells":"Only you can see this spellbook"})]})]}),(0,a.jsxs)("div",{className:"flex gap-4",children:[(0,a.jsx)(o.$,{type:"submit",size:"lg",disabled:r,className:"flex-1",children:r?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(h.A,{className:"w-4 h-4 mr-2 animate-spin"}),"Creating..."]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(u.A,{className:"w-4 h-4 mr-2"}),"Create Spellbook"]})}),(0,a.jsx)(o.$,{type:"button",variant:"outline",size:"lg",onClick:()=>{window.location.href="/spellbooks"},children:"Cancel"})]})]})]})}},83209:(e,r,t)=>{"use strict";t.d(r,{BT:()=>c,Wu:()=>d,ZB:()=>i,Zp:()=>l,aR:()=>o,wL:()=>u});var a=t(95155),s=t(12115),n=t(25016);let l=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)("div",{ref:r,className:(0,n.cn)("rounded-2xl border border-border bg-card text-card-foreground shadow-lg shadow-black/20 backdrop-blur-sm",t),...s})});l.displayName="Card";let o=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)("div",{ref:r,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",t),...s})});o.displayName="CardHeader";let i=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)("h3",{ref:r,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",t),...s})});i.displayName="CardTitle";let c=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)("p",{ref:r,className:(0,n.cn)("text-sm text-muted-foreground",t),...s})});c.displayName="CardDescription";let d=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)("div",{ref:r,className:(0,n.cn)("p-6 pt-0",t),...s})});d.displayName="CardContent";let u=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)("div",{ref:r,className:(0,n.cn)("flex items-center p-6 pt-0",t),...s})});u.displayName="CardFooter"},97003:(e,r,t)=>{"use strict";t.d(r,{$:()=>c});var a=t(95155),s=t(32467),n=t(83101),l=t(12115),o=t(25016);let i=(0,n.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-lg text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90 shadow-lg shadow-primary/25",destructive:"bg-red-500 text-white hover:bg-red-600 shadow-lg shadow-red-500/25",outline:"border border-input bg-transparent hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-lg px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=l.forwardRef((e,r)=>{let{className:t,variant:n,size:l,asChild:c=!1,...d}=e,u=c?s.DX:"button";return(0,a.jsx)(u,{className:(0,o.cn)(i({variant:n,size:l,className:t})),ref:r,...d})});c.displayName="Button"}},e=>{e.O(0,[4545,18720,28441,31255,77358],()=>e(e.s=73798)),_N_E=e.O()}]);