(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[13635],{6191:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(71847).A)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},7220:(e,s,t)=>{"use strict";t.d(s,{SQ:()=>m,_2:()=>f,lp:()=>p,mB:()=>x,rI:()=>c,ty:()=>u});var a=t(95155),r=t(12115),l=t(47971),n=t(27937),d=t(5917),o=t(99051),i=t(25016);let c=l.bL,u=l.l9;l.YJ,l.ZL,l.Pb,l.z6,r.forwardRef((e,s)=>{let{className:t,inset:r,children:d,...o}=e;return(0,a.jsxs)(l.ZP,{ref:s,className:(0,i.cn)("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",r&&"pl-8",t),...o,children:[d,(0,a.jsx)(n.A,{className:"ml-auto h-4 w-4"})]})}).displayName=l.ZP.displayName,r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(l.G5,{ref:s,className:(0,i.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r})}).displayName=l.G5.displayName;let m=r.forwardRef((e,s)=>{let{className:t,sideOffset:r=4,...n}=e;return(0,a.jsx)(l.ZL,{children:(0,a.jsx)(l.UC,{ref:s,sideOffset:r,className:(0,i.cn)("z-50 min-w-[8rem] overflow-hidden rounded-lg border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})})});m.displayName=l.UC.displayName;let f=r.forwardRef((e,s)=>{let{className:t,inset:r,...n}=e;return(0,a.jsx)(l.q7,{ref:s,className:(0,i.cn)("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",r&&"pl-8",t),...n})});f.displayName=l.q7.displayName,r.forwardRef((e,s)=>{let{className:t,children:r,checked:n,...o}=e;return(0,a.jsxs)(l.H_,{ref:s,className:(0,i.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:n,...o,children:[(0,a.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,a.jsx)(l.VF,{children:(0,a.jsx)(d.A,{className:"h-4 w-4"})})}),r]})}).displayName=l.H_.displayName,r.forwardRef((e,s)=>{let{className:t,children:r,...n}=e;return(0,a.jsxs)(l.hN,{ref:s,className:(0,i.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[(0,a.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,a.jsx)(l.VF,{children:(0,a.jsx)(o.A,{className:"h-2 w-2 fill-current"})})}),r]})}).displayName=l.hN.displayName;let p=r.forwardRef((e,s)=>{let{className:t,inset:r,...n}=e;return(0,a.jsx)(l.JU,{ref:s,className:(0,i.cn)("px-2 py-1.5 text-sm font-semibold",r&&"pl-8",t),...n})});p.displayName=l.JU.displayName;let x=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(l.wv,{ref:s,className:(0,i.cn)("-mx-1 my-1 h-px bg-muted",t),...r})});x.displayName=l.wv.displayName},20063:(e,s,t)=>{"use strict";var a=t(47260);t.o(a,"usePathname")&&t.d(s,{usePathname:function(){return a.usePathname}}),t.o(a,"useRouter")&&t.d(s,{useRouter:function(){return a.useRouter}}),t.o(a,"useSearchParams")&&t.d(s,{useSearchParams:function(){return a.useSearchParams}})},21917:(e,s,t)=>{Promise.resolve().then(t.bind(t,24643))},24643:(e,s,t)=>{"use strict";t.d(s,{SpellbookView:()=>N});var a=t(95155),r=t(12115),l=t(97003),n=t(67812),d=t(33789),o=t(48875),i=t(47937),c=t(99708),u=t(6191),m=t(20017),f=t(11010),p=t(37135),x=t(86651),h=t(7220),g=t(25016),b=t(15239),y=t(52619),j=t.n(y),v=t(20063);function N(e){let{spellbook:s,isOwner:t}=e,y=(0,v.useRouter)(),[N,w]=(0,r.useState)(""),[k,A]=(0,r.useState)(null),C=async()=>{if(confirm("Are you sure you want to delete this spellbook?"))try{if(!(await fetch("/api/spellbooks/".concat(s.id),{method:"DELETE"})).ok)throw Error("Failed to delete");y.push("/spellbooks")}catch(e){console.error("Error deleting spellbook:",e),alert("Failed to delete spellbook")}},R=s.spells.filter(e=>{var s;let t=e.title.toLowerCase().includes(N.toLowerCase())||(null==(s=e.description)?void 0:s.toLowerCase().includes(N.toLowerCase())),a=!k||e.language===k;return t&&a}),z=Array.from(new Set(s.spells.map(e=>e.language)));return(0,a.jsxs)("div",{className:"max-w-7xl mx-auto space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,a.jsx)(i.A,{className:"w-8 h-8 text-primary"}),(0,a.jsx)("h1",{className:"text-4xl font-bold",children:s.name}),!s.isPublic&&(0,a.jsxs)(n.Badge,{variant:"secondary",children:[(0,a.jsx)(c.A,{className:"w-3 h-3 mr-1"}),"Private"]})]}),s.description&&(0,a.jsx)("p",{className:"text-muted-foreground text-lg mb-4",children:s.description}),(0,a.jsxs)("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[s.user.image&&(0,a.jsx)(b.default,{src:s.user.image,alt:s.user.name||"User",width:24,height:24,className:"rounded-full"}),(0,a.jsx)(j(),{href:s.user.username?"/u/".concat(s.user.username):"#",className:"hover:text-primary transition-colors",children:s.user.name})]}),(0,a.jsx)("span",{children:"•"}),(0,a.jsxs)("span",{children:[s._count.spells," spells"]}),(0,a.jsx)("span",{children:"•"}),(0,a.jsxs)("span",{children:["Updated ",(0,g.Yq)(s.updatedAt)]})]}),s.tags.length>0&&(0,a.jsx)("div",{className:"flex flex-wrap gap-2 mt-4",children:s.tags.map(e=>(0,a.jsxs)(n.Badge,{variant:"outline",children:["#",e]},e))})]}),(0,a.jsx)("div",{className:"flex items-center gap-2",children:t&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(l.$,{asChild:!0,children:(0,a.jsxs)(j(),{href:"/spells/new?spellbookId=".concat(s.id),children:[(0,a.jsx)(u.A,{className:"w-4 h-4 mr-2"}),"Add Spell"]})}),(0,a.jsxs)(h.rI,{children:[(0,a.jsx)(h.ty,{asChild:!0,children:(0,a.jsx)(l.$,{variant:"outline",size:"icon",children:(0,a.jsx)(m.A,{className:"w-4 h-4"})})}),(0,a.jsxs)(h.SQ,{align:"end",children:[(0,a.jsx)(h._2,{asChild:!0,children:(0,a.jsxs)(j(),{href:"/spellbooks/".concat(s.id,"/edit"),children:[(0,a.jsx)(f.A,{className:"w-4 h-4 mr-2"}),"Edit"]})}),(0,a.jsxs)(h._2,{onClick:C,className:"text-red-500",children:[(0,a.jsx)(p.A,{className:"w-4 h-4 mr-2"}),"Delete"]})]})]})]})})]}),(0,a.jsxs)("div",{className:"flex flex-col md:flex-row gap-4",children:[(0,a.jsxs)("div",{className:"flex-1 relative",children:[(0,a.jsx)(x.A,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),(0,a.jsx)(d.p,{placeholder:"Search spells...",value:N,onChange:e=>w(e.target.value),className:"pl-9"})]}),z.length>0&&(0,a.jsxs)("div",{className:"flex gap-2 flex-wrap",children:[(0,a.jsx)(l.$,{variant:null===k?"default":"outline",size:"sm",onClick:()=>A(null),children:"All"}),z.map(e=>(0,a.jsx)(l.$,{variant:k===e?"default":"outline",size:"sm",onClick:()=>A(e),children:e},e))]})]}),0===R.length?(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center py-20 text-center border-2 border-dashed rounded-2xl",children:[(0,a.jsx)("div",{className:"text-6xl mb-4",children:"\uD83D\uDD2E"}),(0,a.jsx)("h3",{className:"text-2xl font-semibold mb-2",children:N||k?"No spells found":"No spells yet"}),(0,a.jsx)("p",{className:"text-muted-foreground mb-6 max-w-md",children:N||k?"Try adjusting your search or filters":"Add your first spell to this spellbook"}),t&&!N&&!k&&(0,a.jsx)(l.$,{asChild:!0,children:(0,a.jsxs)(j(),{href:"/spells/new?spellbookId=".concat(s.id),children:[(0,a.jsx)(u.A,{className:"w-4 h-4 mr-2"}),"Add Spell"]})})]}):(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:R.map(e=>(0,a.jsx)(o.SpellCard,{spell:{...e,spellbook:{name:s.name}},isLoggedIn:!0},e.id))})]})}},25016:(e,s,t)=>{"use strict";t.d(s,{Yq:()=>n,cn:()=>l,fw:()=>d,kh:()=>o});var a=t(2821),r=t(75889);function l(){for(var e=arguments.length,s=Array(e),t=0;t<e;t++)s[t]=arguments[t];return(0,r.QP)((0,a.$)(s))}function n(e){return new Date(e).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}function d(e){let s=new Date(e),t=Math.floor((new Date().getTime()-s.getTime())/1e3);if(t<60)return"just now";let a=Math.floor(t/60);if(a<60)return"".concat(a," ").concat(1===a?"minute":"minutes"," ago");let r=Math.floor(a/60);if(r<24)return"".concat(r," ").concat(1===r?"hour":"hours"," ago");let l=Math.floor(r/24);if(l<30)return"".concat(l," ").concat(1===l?"day":"days"," ago");let n=Math.floor(l/30);if(n<12)return"".concat(n," ").concat(1===n?"month":"months"," ago");let d=Math.floor(n/12);return"".concat(d," ").concat(1===d?"year":"years"," ago")}function o(e){let s={javascript:"#f7df1e",typescript:"#3178c6",python:"#3776ab",java:"#007396",csharp:"#239120",cpp:"#00599c",c:"#555555",ruby:"#cc342d",go:"#00add8",rust:"#dea584",php:"#777bb4",swift:"#fa7343",kotlin:"#7f52ff",scala:"#dc322f",html:"#e34c26",css:"#1572b6",sql:"#e38c00",shell:"#89e051",bash:"#4eaa25",powershell:"#012456",r:"#276dc3",matlab:"#e16737",lua:"#000080",perl:"#39457e",haskell:"#5e5086",elixir:"#6e4a7e",dart:"#0175c2",vue:"#42b883",react:"#61dafb",angular:"#dd0031",svelte:"#ff3e00",json:"#000000",yaml:"#cb171e",markdown:"#083fa1",xml:"#0060ac",default:"#6b7280"};return s[e.toLowerCase().replace(/\s+/g,"")]||s.default}},28150:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(71847).A)("code-xml",[["path",{d:"m18 16 4-4-4-4",key:"1inbqp"}],["path",{d:"m6 8-4 4 4 4",key:"15zrgr"}],["path",{d:"m14.5 4-5 16",key:"e7oirm"}]])},33789:(e,s,t)=>{"use strict";t.d(s,{p:()=>n});var a=t(95155),r=t(12115),l=t(25016);let n=r.forwardRef((e,s)=>{let{className:t,type:r,...n}=e;return(0,a.jsx)("input",{type:r,className:(0,l.cn)("flex h-10 w-full rounded-lg border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-0 focus-visible:border-primary disabled:cursor-not-allowed disabled:opacity-50 transition-all",t),ref:s,...n})});n.displayName="Input"},47937:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(71847).A)("book-open",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]])},48875:(e,s,t)=>{"use strict";t.d(s,{SpellCard:()=>x});var a=t(95155),r=t(70273),l=t(99708),n=t(57828),d=t(28150),o=t(52619),i=t.n(o),c=t(67812),u=t(97003),m=t(83209),f=t(25016);let p=r.P.create(m.Zp);function x(e){let{spell:s,isLoggedIn:t=!1}=e,r=t?"/dashboard/spell/".concat(s.id):"/spells/".concat(s.id);return(0,a.jsxs)(p,{className:"group hover:border-primary/50 transition-all",children:[(0,a.jsxs)(m.aR,{children:[(0,a.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,a.jsx)(i(),{href:r,className:"flex-1",children:(0,a.jsx)("h3",{className:"text-lg font-semibold group-hover:text-primary transition-colors line-clamp-1",children:s.title})}),!s.isPublic&&(0,a.jsx)(l.A,{className:"w-4 h-4 text-muted-foreground flex-shrink-0 ml-2"})]}),s.description&&(0,a.jsx)("p",{className:"text-sm text-muted-foreground line-clamp-2",children:s.description})]}),(0,a.jsxs)(m.Wu,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 text-sm",children:[(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)("span",{className:"w-3 h-3 rounded-full",style:{backgroundColor:(0,f.kh)(s.language)}}),(0,a.jsx)("span",{className:"capitalize text-muted-foreground",children:s.language})]}),(0,a.jsxs)("div",{className:"flex items-center gap-1 text-muted-foreground",children:[(0,a.jsx)(n.A,{className:"w-3 h-3"}),(0,a.jsx)("span",{children:s.views})]}),(0,a.jsx)("span",{className:"text-muted-foreground text-xs ml-auto",children:(0,f.fw)(s.updatedAt)})]}),s.spellbook&&(0,a.jsxs)("div",{className:"text-xs text-muted-foreground",children:["\uD83D\uDCDA ",s.spellbook.name]}),s.tags.length>0&&(0,a.jsxs)("div",{className:"flex flex-wrap gap-1",children:[s.tags.slice(0,3).map(e=>(0,a.jsx)(c.Badge,{variant:"secondary",className:"text-xs",children:e},e)),s.tags.length>3&&(0,a.jsxs)(c.Badge,{variant:"secondary",className:"text-xs",children:["+",s.tags.length-3]})]}),(0,a.jsx)(u.$,{variant:"outline",size:"sm",className:"w-full",asChild:!0,children:(0,a.jsxs)(i(),{href:r,children:[(0,a.jsx)(d.A,{className:"w-4 h-4 mr-2"}),"View Code"]})})]})]})}},67812:(e,s,t)=>{"use strict";t.d(s,{Badge:()=>d});var a=t(95155);t(12115);var r=t(83101),l=t(25016);let n=(0,r.F)("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-red-500 text-white hover:bg-red-600",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function d(e){let{className:s,variant:t,...r}=e;return(0,a.jsx)("div",{className:(0,l.cn)(n({variant:t}),s),...r})}},83209:(e,s,t)=>{"use strict";t.d(s,{BT:()=>i,Wu:()=>c,ZB:()=>o,Zp:()=>n,aR:()=>d,wL:()=>u});var a=t(95155),r=t(12115),l=t(25016);let n=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("div",{ref:s,className:(0,l.cn)("rounded-2xl border border-border bg-card text-card-foreground shadow-lg shadow-black/20 backdrop-blur-sm",t),...r})});n.displayName="Card";let d=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("div",{ref:s,className:(0,l.cn)("flex flex-col space-y-1.5 p-6",t),...r})});d.displayName="CardHeader";let o=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("h3",{ref:s,className:(0,l.cn)("text-2xl font-semibold leading-none tracking-tight",t),...r})});o.displayName="CardTitle";let i=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("p",{ref:s,className:(0,l.cn)("text-sm text-muted-foreground",t),...r})});i.displayName="CardDescription";let c=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("div",{ref:s,className:(0,l.cn)("p-6 pt-0",t),...r})});c.displayName="CardContent";let u=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("div",{ref:s,className:(0,l.cn)("flex items-center p-6 pt-0",t),...r})});u.displayName="CardFooter"},86651:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(71847).A)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]])},97003:(e,s,t)=>{"use strict";t.d(s,{$:()=>i});var a=t(95155),r=t(32467),l=t(83101),n=t(12115),d=t(25016);let o=(0,l.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-lg text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90 shadow-lg shadow-primary/25",destructive:"bg-red-500 text-white hover:bg-red-600 shadow-lg shadow-red-500/25",outline:"border border-input bg-transparent hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-lg px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),i=n.forwardRef((e,s)=>{let{className:t,variant:l,size:n,asChild:i=!1,...c}=e,u=i?r.DX:"button";return(0,a.jsx)(u,{className:(0,d.cn)(o({variant:l,size:n,className:t})),ref:s,...c})});i.displayName="Button"},99708:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(71847).A)("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]])}},e=>{e.O(0,[4545,52619,70273,306,14035,35933,65943,28441,31255,77358],()=>e(e.s=21917)),_N_E=e.O()}]);